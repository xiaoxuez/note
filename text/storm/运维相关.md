#### 修改zk 事务日志在内存中，并定时清理
+ conf/zoo.cfg:

				
		dataDir=/opt/apache/zk/zookeeper-3.4.8/data
		dataLogDir=/dev/shm
		# The number of snapshots to retain in dataDir
		#autopurge.snapRetainCount=3
		# Purge task interval in hours
		# Set to "0" to disable auto purge feature
		#autopurge.purgeInterval=1
		
+ 定时清理/脚本：

		#!/bin/bash
		source /etc/profile
		
		#snapshot file dir
		dataDir=/opt/apache/zk/zookeeper-3.4.8/data/version-2
		#tran log dir
		dataLogDir=/dev/shm/version-2
		
		#leave transaction files
		leaveTran=10
		#leave snapshot files
		leaveSnap=10000
		
		free -m
		ls -t $dataLogDir/log.* | tail -n +$leaveTran  | xargs rm -f
		ls -t $dataDir/snapshot.* | tail -n +$leaveSnap | xargs rm -f
		free -m

将脚本加入到crontab任务中。(crontab -e 编辑加入：)每15分钟清理一次
	```*/15 * * * * /opt/apache/zk/zookeeper-3.4.8/conf/clearlog.sh```
	
